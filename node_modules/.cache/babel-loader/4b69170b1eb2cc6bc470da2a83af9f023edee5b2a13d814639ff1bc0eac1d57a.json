{"ast":null,"code":"var _jsxFileName = \"/Users/trevorchan/Desktop/Senior Project/mini/EmotiChat/src/pages/account.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { UserAuth } from '../context/AuthContext';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Account = () => {\n  _s();\n  const {\n    logOut,\n    user\n  } = UserAuth();\n  const [username, setUsername] = useState('');\n  const fetchUserData = useCallback(async () => {\n    if (user !== null) {\n      const uid = user.uid;\n      const userRef = doc(db, 'users', uid);\n      const userDoc = await getDoc(userRef);\n      if (userDoc.exists()) {\n        const userData = userDoc.data();\n        setUsername(userData.username);\n      } else {\n        console.log('User document does not exist.');\n      }\n    }\n  }, [user]);\n  useEffect(() => {\n    fetchUserData();\n  }, [fetchUserData, user]);\n  const handleSignOut = async () => {\n    try {\n      await logOut();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"account-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }, this), (user === null || user === void 0 ? void 0 : user.photoURL) && /*#__PURE__*/_jsxDEV(\"img\", {\n      src: user.photoURL,\n      alt: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 30\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Welcome, \", user === null || user === void 0 ? void 0 : user.displayName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Username: \", username, \" \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/username\",\n          children: \"Change\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"You are signed in using your Google account: \", user === null || user === void 0 ? void 0 : user.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSignOut,\n      className: \"account-signout-btn\",\n      children: \"Sign Out\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n_s(Account, \"lSjR3tJjC0kYmWn+OakCk7nrG/A=\");\n_c = Account;\nexport default Account;\nvar _c;\n$RefreshReg$(_c, \"Account\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Link","UserAuth","doc","getDoc","db","jsxDEV","_jsxDEV","Account","_s","logOut","user","username","setUsername","fetchUserData","uid","userRef","userDoc","exists","userData","data","console","log","handleSignOut","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","photoURL","src","alt","displayName","to","email","onClick","_c","$RefreshReg$"],"sources":["/Users/trevorchan/Desktop/Senior Project/mini/EmotiChat/src/pages/account.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { UserAuth } from '../context/AuthContext';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '../firebase';\n\nconst Account = () => {\n    const { logOut, user } = UserAuth();\n    const [username, setUsername] = useState('');\n\n    const fetchUserData = useCallback(async () => {\n        if (user !== null) {\n            const uid = user.uid;\n            const userRef = doc(db, 'users', uid);\n            const userDoc = await getDoc(userRef);\n\n            if (userDoc.exists()) {\n                const userData = userDoc.data();\n                setUsername(userData.username);\n            } else {\n                console.log('User document does not exist.');\n            }\n        }\n    }, [user]);\n\n    useEffect(() => {\n        fetchUserData();\n    }, [fetchUserData, user]);\n\n    const handleSignOut = async () => {\n        try {\n            await logOut();\n        } catch (error) {\n            console.log(error);\n        }\n    };\n\n    return (\n        <div className='account-container'>\n          <h1>Account</h1>\n          {user?.photoURL && <img src={user.photoURL} alt=\"\" />}\n          <div>\n            <p>Welcome, {user?.displayName}</p>\n            <p>Username: {username} <Link to='/username'>Change</Link></p>\n            <p>You are signed in using your Google account: {user?.email}</p>\n          </div>\n          <button onClick={handleSignOut} className=\"account-signout-btn\">Sign Out</button>\n        </div>\n      );\n      \n};\n\nexport default Account;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
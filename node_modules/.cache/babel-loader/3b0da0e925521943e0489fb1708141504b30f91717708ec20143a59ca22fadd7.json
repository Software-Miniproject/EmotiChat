{"ast":null,"code":"import _regeneratorRuntime from\"/Users/trevorchan/Desktop/Senior Project/mini/EmotiChat/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/trevorchan/Desktop/Senior Project/mini/EmotiChat/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/trevorchan/Desktop/Senior Project/mini/EmotiChat/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/trevorchan/Desktop/Senior Project/mini/EmotiChat/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from\"react\";import{db}from\"../firebase\";import{query,where,collection,getDocs}from\"firebase/firestore\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(){var _ref;var _useState=useState(),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),userInput=_useState4[0],setUserInput=_useState4[1];var handleButtonClick=function handleButtonClick(){var inputValue=document.getElementById('userInputField').value;setUserInput(inputValue);};var usersRef=collection(db,\"users\");var q=query(usersRef,where(\"name\",\"==\",userInput));var getUsers=function getUsers(){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var querySnapshot,users;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getDocs(q);case 2:querySnapshot=_context.sent;users=querySnapshot.docs.map(function(doc){return _objectSpread({id:doc.id},doc.data());});setUsers(users);case 5:case\"end\":return _context.stop();}},_callee);}))).apply(this,arguments);};getUsers();useEffect(function(){},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Search: \",userInput]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"userInputField\",placeholder:\"Exact Name...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleButtonClick,children:\"Submit\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"table\",{className:\"striped-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Profile\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users?users.map(function(users){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:users.pfp&&/*#__PURE__*/_jsx(\"img\",{src:users.pfp,alt:\"\"})}),/*#__PURE__*/_jsx(\"td\",{children:users.name}),/*#__PURE__*/_jsx(\"td\",{children:users.username}),/*#__PURE__*/_jsx(\"td\",{children:users.email})]},users.uid);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:40})})})]})]});};export default Search;","map":{"version":3,"names":["React","useState","useEffect","useRef","db","query","where","collection","getDocs","jsx","_jsx","jsxs","_jsxs","Search","_ref","_useState","_useState2","_slicedToArray","users","setUsers","_useState3","_useState4","userInput","setUserInput","handleButtonClick","inputValue","document","getElementById","value","usersRef","q","getUsers","_asyncToGenerator","_regeneratorRuntime","mark","_callee","querySnapshot","wrap","_callee$","_context","prev","next","sent","docs","map","doc","_objectSpread","id","data","stop","apply","arguments","children","type","placeholder","onClick","className","pfp","src","alt","name","username","email","uid","colSpan"],"sources":["/Users/trevorchan/Desktop/Senior Project/mini/EmotiChat/src/pages/search.js"],"sourcesContent":["import React, { useState, useEffect, useRef} from \"react\";\nimport { db } from \"../firebase\";\nimport { query, where, collection, getDocs } from \"firebase/firestore\";\n\nconst Search = () => {\n    const [users, setUsers] = useState();\n    const [userInput, setUserInput] = useState('');\n    const handleButtonClick = () => {\n      const inputValue = document.getElementById('userInputField').value;\n      setUserInput(inputValue);\n    }\n\n    const usersRef = collection(db, \"users\");\n    const q = query(usersRef, where(\"name\", \"==\", userInput));\n\n    const getUsers = async () => {\n        const querySnapshot = await getDocs(q);\n        const users = querySnapshot.docs.map(doc => ({id: doc.id, ... doc.data()}))\n        setUsers(users);\n    }\n\n    getUsers();\n    \n    useEffect(() => {\n    }, []);\n    \n    return (\n        <div>\n            <br></br>\n    <div>\n      <p>Search: {userInput}</p>\n      <input type=\"text\" id=\"userInputField\" placeholder=\"Exact Name...\"\n      /><button onClick={handleButtonClick}>Submit</button>\n    </div>\n            <br></br>\n            <br></br>\n            <table className=\"striped-table\">\n                <thead>\n                    <tr>\n                        <th>Profile</th>\n                        <th>Name</th>\n                        <th>Username</th>\n                        <th>Email</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {users ? (\n                        users.map((users) => (\n                            <tr key={users.uid}>\n                                <td>{users.pfp && <img src={users.pfp} alt=\"\" />}</td>\n                                <td>{users.name}</td>\n                                <td>{users.username}</td>\n                                <td>{users.email}</td>\n                            </tr>\n                        ))\n                    ) : (\n                        <tr>\n                            <td colSpan={40}></td>\n                        </tr>\n                    )}\n                </tbody>\n            </table>\n        </div>\n    );\n};\n\nexport default Search;\n"],"mappings":"mkBAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAO,OAAO,CACzD,OAASC,EAAE,KAAQ,aAAa,CAChC,OAASC,KAAK,CAAEC,KAAK,CAAEC,UAAU,CAAEC,OAAO,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvE,GAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAA,CAAS,KAAAC,IAAA,CACjB,IAAAC,SAAA,CAA0Bd,QAAQ,CAAC,CAAC,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,IAAAI,UAAA,CAAkCnB,QAAQ,CAAC,EAAE,CAAC,CAAAoB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAvCE,SAAS,CAAAD,UAAA,IAAEE,YAAY,CAAAF,UAAA,IAC9B,GAAM,CAAAG,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAA,CAAS,CAC9B,GAAM,CAAAC,UAAU,CAAGC,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAC,CAACC,KAAK,CAClEL,YAAY,CAACE,UAAU,CAAC,CAC1B,CAAC,CAED,GAAM,CAAAI,QAAQ,CAAGtB,UAAU,CAACH,EAAE,CAAE,OAAO,CAAC,CACxC,GAAM,CAAA0B,CAAC,CAAGzB,KAAK,CAACwB,QAAQ,CAAEvB,KAAK,CAAC,MAAM,CAAE,IAAI,CAAEgB,SAAS,CAAC,CAAC,CAEzD,GAAM,CAAAS,QAAQ,SAAR,CAAAA,QAAQA,CAAA,SAAAjB,IAAA,CAAAA,IAAA,EAAAkB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,aAAA,CAAAlB,KAAA,QAAAe,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACe,CAAAjC,OAAO,CAACsB,CAAC,CAAC,QAAhCM,aAAa,CAAAG,QAAA,CAAAG,IAAA,CACbxB,KAAK,CAAGkB,aAAa,CAACO,IAAI,CAACC,GAAG,CAAC,SAAAC,GAAG,SAAAC,aAAA,EAAMC,EAAE,CAAEF,GAAG,CAACE,EAAE,EAAMF,GAAG,CAACG,IAAI,CAAC,CAAC,GAAE,CAAC,CAC3E7B,QAAQ,CAACD,KAAK,CAAC,CAAC,wBAAAqB,QAAA,CAAAU,IAAA,MAAAd,OAAA,GACnB,IAAAe,KAAA,MAAAC,SAAA,IAEDpB,QAAQ,CAAC,CAAC,CAEV7B,SAAS,CAAC,UAAM,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIU,KAAA,QAAAwC,QAAA,eACI1C,IAAA,QAAQ,CAAC,cACjBE,KAAA,QAAAwC,QAAA,eACExC,KAAA,MAAAwC,QAAA,EAAG,UAAQ,CAAC9B,SAAS,EAAI,CAAC,cAC1BZ,IAAA,UAAO2C,IAAI,CAAC,MAAM,CAACN,EAAE,CAAC,gBAAgB,CAACO,WAAW,CAAC,eAAe,CACjE,CAAC,cAAA5C,IAAA,WAAQ6C,OAAO,CAAE/B,iBAAkB,CAAA4B,QAAA,CAAC,QAAM,CAAQ,CAAC,EAClD,CAAC,cACE1C,IAAA,QAAQ,CAAC,cACTA,IAAA,QAAQ,CAAC,cACTE,KAAA,UAAO4C,SAAS,CAAC,eAAe,CAAAJ,QAAA,eAC5B1C,IAAA,UAAA0C,QAAA,cACIxC,KAAA,OAAAwC,QAAA,eACI1C,IAAA,OAAA0C,QAAA,CAAI,SAAO,CAAI,CAAC,cAChB1C,IAAA,OAAA0C,QAAA,CAAI,MAAI,CAAI,CAAC,cACb1C,IAAA,OAAA0C,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjB1C,IAAA,OAAA0C,QAAA,CAAI,OAAK,CAAI,CAAC,EACd,CAAC,CACF,CAAC,cACR1C,IAAA,UAAA0C,QAAA,CACKlC,KAAK,CACFA,KAAK,CAAC0B,GAAG,CAAC,SAAC1B,KAAK,qBACZN,KAAA,OAAAwC,QAAA,eACI1C,IAAA,OAAA0C,QAAA,CAAKlC,KAAK,CAACuC,GAAG,eAAI/C,IAAA,QAAKgD,GAAG,CAAExC,KAAK,CAACuC,GAAI,CAACE,GAAG,CAAC,EAAE,CAAE,CAAC,CAAK,CAAC,cACtDjD,IAAA,OAAA0C,QAAA,CAAKlC,KAAK,CAAC0C,IAAI,CAAK,CAAC,cACrBlD,IAAA,OAAA0C,QAAA,CAAKlC,KAAK,CAAC2C,QAAQ,CAAK,CAAC,cACzBnD,IAAA,OAAA0C,QAAA,CAAKlC,KAAK,CAAC4C,KAAK,CAAK,CAAC,GAJjB5C,KAAK,CAAC6C,GAKX,CAAC,EACR,CAAC,cAEFrD,IAAA,OAAA0C,QAAA,cACI1C,IAAA,OAAIsD,OAAO,CAAE,EAAG,CAAK,CAAC,CACtB,CACP,CACE,CAAC,EACL,CAAC,EACP,CAAC,CAEd,CAAC,CAED,cAAe,CAAAnD,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}